<!DOCTYPE html>
<html lang="en-us">
<head>
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <script type="text/javascript" src="https://latest.cactus.chat/cactus.js"></script>
  <link rel="stylesheet" href="https://latest.cactus.chat/style.css" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> Vega-lite in svelte | Saaientist</title>
  <link rel = 'canonical' href = '/posts/vega-lite-in-svelte/'>
  <meta name="description" content="My external memory">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta property="og:title" content="Vega-lite in svelte" />
<meta property="og:description" content="There are many ways of incorporating graphics and plots in svelte and svelte-kit applications. I can definitely recommend checking out this talk by Matthias Stahl, graphics lead at Der Spiegel in Germany. This talk goes specifically through creating animated plots in svelte at the 24:46 mark.
 So you can code your own SVG in svelte, use D3, P5, Three.js, etc. In the code below, we use vega-lite.
 What I wanted to achieve with this component, is that the user can choose which dimensions are plotted against each other in a scatterplot." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/vega-lite-in-svelte/" />
<meta property="article:published_time" content="2022-07-05T16:04:00+02:00" />
<meta property="article:modified_time" content="2022-07-05T16:04:00+02:00" />

  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Vega-lite in svelte"/>
<meta name="twitter:description" content="There are many ways of incorporating graphics and plots in svelte and svelte-kit applications. I can definitely recommend checking out this talk by Matthias Stahl, graphics lead at Der Spiegel in Germany. This talk goes specifically through creating animated plots in svelte at the 24:46 mark.
 So you can code your own SVG in svelte, use D3, P5, Three.js, etc. In the code below, we use vega-lite.
 What I wanted to achieve with this component, is that the user can choose which dimensions are plotted against each other in a scatterplot."/>

  
  
    
  
  
  <link rel="stylesheet" href="/css/styles.94f653e9e151e28067a7c5dbbc4600cbd5a3c721e79faaf971e523c40f3b249b8e4f20bb57810dfffa8d559ca5c140fd56eb4cd9c0853113ad08e66afdb08bdd.css" integrity="sha512-lPZT6eFR4oBnp8XbvEYAy9WjxyHnn6r5ceUjxA87JJuOTyC7V4EN//qNVZylwUD9VutM2cCFMROtCOZq/bCL3Q=="> 

  
  
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
<link rel="icon" type="image/png" href="/images/favicon.ico" />

  
  
  
  
</head>

<body class="max-width mx-auto px3 ltr">
  <div class="content index py4">

  <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;" aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/posts">Posts</a></li>
         
        <li><a href="/tags">Tags</a></li>
         
        <li><a href="/about">About</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li>
          <a class="icon" href=" /posts/running-docker-command-from-svelte/" aria-label="Previous">
            <i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i>
          </a>
        </li>
        
        
        <li>
          <a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
            <i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i>
          </a>
        </li>
        <li>
          <a class="icon" href="#" aria-label="Share">
            <i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i>
          </a>
        </li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=%2fposts%2fvega-lite-in-svelte%2f" aria-label="Facebook">
      <i class="fab fa-facebook " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=%2fposts%2fvega-lite-in-svelte%2f&text=Vega-lite%20in%20svelte" aria-label="Twitter">
      <i class="fab fa-twitter " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=%2fposts%2fvega-lite-in-svelte%2f&title=Vega-lite%20in%20svelte" aria-label="Linkedin">
      <i class="fab fa-linkedin " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=%2fposts%2fvega-lite-in-svelte%2f&is_video=false&description=Vega-lite%20in%20svelte" aria-label="Pinterest">
      <i class="fab fa-pinterest " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=Vega-lite%20in%20svelte&body=Check out this article: %2fposts%2fvega-lite-in-svelte%2f" aria-label="Email">
      <i class="fas fa-envelope " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=%2fposts%2fvega-lite-in-svelte%2f&title=Vega-lite%20in%20svelte" aria-label="Pocket">
      <i class="fab fa-get-pocket " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=%2fposts%2fvega-lite-in-svelte%2f&title=Vega-lite%20in%20svelte" aria-label="reddit">
      <i class="fab fa-reddit " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=%2fposts%2fvega-lite-in-svelte%2f&name=Vega-lite%20in%20svelte&description=There%20are%20many%20ways%20of%20incorporating%20graphics%20and%20plots%20in%20svelte%20and%20svelte-kit%20applications.%20I%20can%20definitely%20recommend%20checking%20out%20this%20talk%20by%20Matthias%20Stahl%2c%20graphics%20lead%20at%20Der%20Spiegel%20in%20Germany.%20This%20talk%20goes%20specifically%20through%20creating%20animated%20plots%20in%20svelte%20at%20the%2024%3a46%20mark.%0a%20So%20you%20can%20code%20your%20own%20SVG%20in%20svelte%2c%20use%20D3%2c%20P5%2c%20Three.js%2c%20etc.%20In%20the%20code%20below%2c%20we%20use%20vega-lite.%0a%20What%20I%20wanted%20to%20achieve%20with%20this%20component%2c%20is%20that%20the%20user%20can%20choose%20which%20dimensions%20are%20plotted%20against%20each%20other%20in%20a%20scatterplot." aria-label="Tumblr">
      <i class="fab fa-tumblr " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=%2fposts%2fvega-lite-in-svelte%2f&t=Vega-lite%20in%20svelte" aria-label="Hacker News">
      <i class="fab fa-hacker-news " aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>
    
    <div id="toc">
      
    </div>
    
  </span>
</div>


  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <h1 class="posttitle" itemprop="name headline">
        Vega-lite in svelte
      </h1>
      <div class="meta">
        
        <div class="postdate">
          
          <time datetime="2022-07-05 16:04:00 &#43;0200 &#43;0200" itemprop="datePublished">2022-07-05</time>
          
        </div>
        
        
        
        
        <div class="article-tag">
            <i class="fas fa-tag"></i>
            
            
            <a class="tag-link" href="/tags/svelte" rel="tag">svelte</a>
            
             ,  
            <a class="tag-link" href="/tags/vega" rel="tag">vega</a>
            
             ,  
            <a class="tag-link" href="/tags/visualisation" rel="tag">visualisation</a>
            
        </div>
        
      </div>
    </header>

  
    
    <div class="content" itemprop="articleBody">
      <div class="paragraph">
<p>There are many ways of incorporating graphics and plots in svelte and svelte-kit applications. I can definitely recommend checking out <a href="https://www.youtube.com/watch?v=JDEtUjjdVag">this talk</a> by Matthias Stahl, graphics lead at Der Spiegel in Germany. This talk goes specifically through creating animated plots in svelte at the 24:46 mark.</p>
</div>
<div class="paragraph">
<p>So you can code your own SVG in svelte, use <a href="http://d3js.org">D3</a>, <a href="http://p5js.org">P5</a>, <a href="http://threejs.org">Three.js</a>, etc. In the code below, we use <a href="http://vega.github.io"><strong>vega-lite</strong></a>.</p>
</div>
<div class="paragraph">
<p>What I wanted to achieve with this component, is that the user can choose which dimensions are plotted against each other in a scatterplot. It was a bit tricky to get that interactivity working, which is the reason I&#8217;m writing it down here.</p>
</div>
<div class="sect1">
<h2 id="_our_starting_point">Our starting point</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This is the basic plot we want to recreate in svelte, with the added functionality of allowing the user to select the axes.</p>
</div>
<div class="paragraph">
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
  <span style="color:#f92672">&#34;$schema&#34;</span>: <span style="color:#e6db74">&#34;https://vega.github.io/schema/vega-lite/v5.json&#34;</span>,
  <span style="color:#f92672">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;A scatterplot showing horsepower and miles per gallons for various cars.&#34;</span>,
  <span style="color:#f92672">&#34;data&#34;</span>: {<span style="color:#f92672">&#34;url&#34;</span>: <span style="color:#e6db74">&#34;https://unpkg.com/vega-datasets@1.25.0/data/cars.json&#34;</span>},
  <span style="color:#f92672">&#34;mark&#34;</span>: <span style="color:#e6db74">&#34;point&#34;</span>,
  <span style="color:#f92672">&#34;encoding&#34;</span>: {
    <span style="color:#f92672">&#34;x&#34;</span>: {<span style="color:#f92672">&#34;field&#34;</span>: <span style="color:#e6db74">&#34;Horsepower&#34;</span>, <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;quantitative&#34;</span>},
    <span style="color:#f92672">&#34;y&#34;</span>: {<span style="color:#f92672">&#34;field&#34;</span>: <span style="color:#e6db74">&#34;Miles_per_Gallon&#34;</span>, <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;quantitative&#34;</span>}
  }
}</code></pre></td></tr></table>
</div>
</div>
</div>
<div class="paragraph">
<p>This creates the following plot:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/assets/vega_cars.png" alt="vega cars" width="50%">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_svelte_version">The svelte version</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In the code below, I have removed the data from the spec itself just because most of my components read their data from an API endpoint. That&#8217;s what the <code>&lt;script context="module"&gt;</code> does at the top. So you can skip that part if you want.</p>
</div>
<div class="paragraph">
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">context</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;module&#34;</span>&gt;
    <span style="color:#66d9ef">export</span> <span style="color:#a6e22e">async</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">load</span>({<span style="color:#a6e22e">fetch</span>}) {
        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">res1</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#a6e22e">fetch</span>(<span style="color:#e6db74">&#39;https://unpkg.com/vega-datasets@1.25.0/data/cars.json&#39;</span>)
        <span style="color:#66d9ef">if</span> ( <span style="color:#a6e22e">res1</span>.<span style="color:#a6e22e">ok</span> ) {
            <span style="color:#66d9ef">return</span> {
                <span style="color:#a6e22e">props</span><span style="color:#f92672">:</span> {
                    <span style="color:#a6e22e">datapoints</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">await</span> <span style="color:#a6e22e">res1</span>.<span style="color:#a6e22e">json</span>()
                }
            }
        }
    }
&lt;/<span style="color:#f92672">script</span>&gt;

&lt;<span style="color:#f92672">script</span>&gt;
    <span style="color:#66d9ef">import</span> { <span style="color:#66d9ef">default</span> <span style="color:#a6e22e">as</span> <span style="color:#a6e22e">vegaEmbed</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;vega-embed&#34;</span>;
    <span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">Label</span>, <span style="color:#a6e22e">Input</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;sveltestrap&#39;</span>
  
    <span style="color:#66d9ef">export</span> <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">datapoints</span> <span style="color:#f92672">=</span> [];
    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">width</span><span style="color:#f92672">=</span><span style="color:#ae81ff">600</span>
    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">height</span><span style="color:#f92672">=</span><span style="color:#ae81ff">400</span>
    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">fieldX</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Miles_per_Gallon&#34;</span>;
    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">fieldY</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Displacement&#34;</span>
    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">properties</span> <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;Miles_per_Gallon&#34;</span>,<span style="color:#e6db74">&#34;Cylinders&#34;</span>,<span style="color:#e6db74">&#34;Displacement&#34;</span>,<span style="color:#e6db74">&#34;Horsepower&#34;</span>,<span style="color:#e6db74">&#34;Weight_in_lbs&#34;</span>,<span style="color:#e6db74">&#34;Acceleration&#34;</span>]

    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">spec</span> <span style="color:#f92672">=</span> {
        <span style="color:#e6db74">&#34;$schema&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;https://vega.github.io/schema/vega-lite/v5.json&#34;</span>,
        <span style="color:#e6db74">&#34;description&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;A scatterplot of two properties for various cars.&#34;</span>,
        <span style="color:#e6db74">&#34;mark&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;point&#34;</span>,
        <span style="color:#e6db74">&#34;encoding&#34;</span><span style="color:#f92672">:</span> {
            <span style="color:#e6db74">&#34;x&#34;</span><span style="color:#f92672">:</span> {<span style="color:#e6db74">&#34;type&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;quantitative&#34;</span>},
            <span style="color:#e6db74">&#34;y&#34;</span><span style="color:#f92672">:</span> {<span style="color:#e6db74">&#34;type&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;quantitative&#34;</span>}
        }
    }
    <span style="color:#a6e22e">$</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">spec</span>.<span style="color:#a6e22e">width</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">width</span>
        <span style="color:#a6e22e">spec</span>.<span style="color:#a6e22e">height</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">height</span>
        <span style="color:#a6e22e">spec</span>.<span style="color:#a6e22e">encoding</span>.<span style="color:#a6e22e">x</span>.<span style="color:#a6e22e">field</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">fieldX</span>
        <span style="color:#a6e22e">spec</span>.<span style="color:#a6e22e">encoding</span>.<span style="color:#a6e22e">y</span>.<span style="color:#a6e22e">field</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">fieldY</span>
        <span style="color:#a6e22e">spec</span>.<span style="color:#a6e22e">data</span> <span style="color:#f92672">=</span> { <span style="color:#a6e22e">values</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">datapoints</span> }
    }
    <span style="color:#a6e22e">$</span><span style="color:#f92672">:</span> {
        <span style="color:#66d9ef">if</span> ( <span style="color:#66d9ef">typeof</span> document <span style="color:#f92672">!==</span> <span style="color:#e6db74">&#39;undefined&#39;</span> ) { <span style="color:#a6e22e">vegaEmbed</span>(<span style="color:#e6db74">&#39;#vis&#39;</span>, <span style="color:#a6e22e">spec</span>) }
    }
&lt;/<span style="color:#f92672">script</span>&gt;

&lt;<span style="color:#f92672">Label</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;margin: 10px;&#34;</span>&gt;Property for X:&lt;/<span style="color:#f92672">Label</span>&gt;
&lt;<span style="color:#f92672">Input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;select&#34;</span> <span style="color:#a6e22e">bind:value</span><span style="color:#f92672">=</span><span style="color:#e6db74">{fieldX}</span>&gt;
    {#each properties as property}
        &lt;<span style="color:#f92672">option</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">{property}</span>&gt;{property}&lt;/<span style="color:#f92672">option</span>&gt;
    {/each}
&lt;/<span style="color:#f92672">Input</span>&gt;
&lt;<span style="color:#f92672">br</span>/&gt;
&lt;<span style="color:#f92672">Label</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;margin: 10px;&#34;</span>&gt;Property for Y:&lt;/<span style="color:#f92672">Label</span>&gt;
&lt;<span style="color:#f92672">Input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;select&#34;</span> <span style="color:#a6e22e">bind:value</span><span style="color:#f92672">=</span><span style="color:#e6db74">{fieldY}</span>&gt;
    {#each properties as property}
        &lt;<span style="color:#f92672">option</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">{property}</span>&gt;{property}&lt;/<span style="color:#f92672">option</span>&gt;
    {/each}
&lt;/<span style="color:#f92672">Input</span>&gt;
&lt;<span style="color:#f92672">br</span>/&gt;
&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;vis&#34;</span>&gt;&lt;/<span style="color:#f92672">div</span>&gt;</code></pre></td></tr></table>
</div>
</div>
</div>
<div class="paragraph">
<p>On lines 25 to 33, we create a spec from which we removed all parts that are dynamic: the data, the width and height, and the fields used for the axes. These are added in the following lines 34 through 40. That code block is executed whenever one of its variables changes value.</p>
</div>
<div class="paragraph">
<p>The vega spec is mounted on the div called <code>vis</code> on line 42.</p>
</div>
<div class="paragraph">
<p>We create two drop-down lists for selecting <code>fieldX</code> and <code>fieldY</code>, looping over all properties and changing the value of these variables.</p>
</div>
<div class="paragraph">
<p>The result:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/assets/vega_cars_interactive.png" alt="vega cars interactive">
</div>
</div>
<div class="paragraph">
<p>That&#8217;s it.</p>
</div>
</div>
</div>

    </div>
  </article>

  
  






  <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/posts">Posts</a></li>
         
          <li><a href="/tags">Tags</a></li>
         
          <li><a href="/about">About</a></li>
        
      </ul>
    </div>

    
    <div id="toc-footer" style="display: none">
      
    </div>
    

    <div id="share-footer" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=%2fposts%2fvega-lite-in-svelte%2f" aria-label="Facebook">
      <i class="fab fa-facebook fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=%2fposts%2fvega-lite-in-svelte%2f&text=Vega-lite%20in%20svelte" aria-label="Twitter">
      <i class="fab fa-twitter fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=%2fposts%2fvega-lite-in-svelte%2f&title=Vega-lite%20in%20svelte" aria-label="Linkedin">
      <i class="fab fa-linkedin fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=%2fposts%2fvega-lite-in-svelte%2f&is_video=false&description=Vega-lite%20in%20svelte" aria-label="Pinterest">
      <i class="fab fa-pinterest fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=Vega-lite%20in%20svelte&body=Check out this article: %2fposts%2fvega-lite-in-svelte%2f" aria-label="Email">
      <i class="fas fa-envelope fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=%2fposts%2fvega-lite-in-svelte%2f&title=Vega-lite%20in%20svelte" aria-label="Pocket">
      <i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=%2fposts%2fvega-lite-in-svelte%2f&title=Vega-lite%20in%20svelte" aria-label="reddit">
      <i class="fab fa-reddit fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=%2fposts%2fvega-lite-in-svelte%2f&name=Vega-lite%20in%20svelte&description=There%20are%20many%20ways%20of%20incorporating%20graphics%20and%20plots%20in%20svelte%20and%20svelte-kit%20applications.%20I%20can%20definitely%20recommend%20checking%20out%20this%20talk%20by%20Matthias%20Stahl%2c%20graphics%20lead%20at%20Der%20Spiegel%20in%20Germany.%20This%20talk%20goes%20specifically%20through%20creating%20animated%20plots%20in%20svelte%20at%20the%2024%3a46%20mark.%0a%20So%20you%20can%20code%20your%20own%20SVG%20in%20svelte%2c%20use%20D3%2c%20P5%2c%20Three.js%2c%20etc.%20In%20the%20code%20below%2c%20we%20use%20vega-lite.%0a%20What%20I%20wanted%20to%20achieve%20with%20this%20component%2c%20is%20that%20the%20user%20can%20choose%20which%20dimensions%20are%20plotted%20against%20each%20other%20in%20a%20scatterplot." aria-label="Tumblr">
      <i class="fab fa-tumblr fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=%2fposts%2fvega-lite-in-svelte%2f&t=Vega-lite%20in%20svelte" aria-label="Hacker News">
      <i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>

    <div id="actions-footer">
      
        <a id="menu-toggle" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;" aria-label="Menu">
          <i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
        <a id="toc-toggle" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;" aria-label="TOC">
          <i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        
        <a id="share-toggle" class="icon" href="#" onclick="$('#share-footer').toggle();return false;" aria-label="Share">
          <i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
          <i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>


  <footer id="footer">
  <div class="footer-left">
    Copyright  &copy; 2022  Saaientist 
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/posts">Posts</a></li>
         
        <li><a href="/tags">Tags</a></li>
         
        <li><a href="/about">About</a></li>
        
      </ul>
    </nav>
  </div>
</footer>


  </div>
</body>

<link rel="stylesheet" href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>

<script src=/js/code-copy.js></script>




</html>
